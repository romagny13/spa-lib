<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
    </head>
    <body>

        <script>

            function getUrlParameters(url) {
                var result = {};             
                // param1=value1&param2=value2
                var splits = url.split("&");
                for (var i = 0; i < splits.length ; i++) {
                    var keyValue = splits[i].split("=");
                    result[keyValue[0]] = keyValue[1];
                }
                return result;
            }

            // extract token
            var hash = window.location.hash.split('#')[1];
            if(hash){
                var parameters = getUrlParameters(hash);
                window.opener.postMessage(parameters["access_token"], window.location.origin);
            }           

        </script>

    </body>
</html>
